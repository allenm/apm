#!/usr/bin/env node

var commander = require('commander');
var deploy = require('../lib/deploy');

commander.usage('[options]');

commander
  .option('--host <server>', 'reset the server host')
  .option('--target <target>', 'a variable to be used')
  .option('--password <password>', 'a password to server')
  .option('-v, --verbose', 'show more logs');

commander.on('--help', function() {
  console.log();
  console.log('  Examples:');
  console.log();
  console.log('   $ spm deploy');
  console.log('   $ spm deploy arale/class@1.0.0');
  console.log();
});

commander.parse(process.argv);

// run install
console.log();

var options = {};
options.target = commander.target;
options.host = commander.host;
options.password = commander.password || 'alipaydev';
options.verbose = commander.verbose;
options.query = commander.args[0];
deploy(options);
